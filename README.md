# WE ARE GOING TO IMPLEMENT AUTHENTICATION WITH NEXT-AUTH

THIS IS A HELPFUL TUTORIAL, WE CAN EXTEND WITH OUR CUSTOM STUFF TO SERVE OUR NEEDS

<https://flaviocopes.com/nextjs-email-authentication/>

# WE FORGOT TO DEFINE PRISMA CLIENT

I DID THAT HERE: `lib/prisma/index.ts`

# NOW LET'S INSTALL PRISMA ADAPTER

```
yarn add @next-auth/prisma-adapter
```

# LET'S CREATE EMAIL PROVIDER ACCOUNT

I AM GOING TO USE <https://mailtrap.io/>

THIS IS A EMAAIL PROVIDER MADE SPECIFICALLY FOR TESTING AND DEVELOPMENT

# SETTING UP ENV

```
code .env.local
```

```py
DATABASE_URL=

# ADDED THIS
# FROM MAILTRAP
EMAIL_SERVER=smtp://user:pass@smtp.mailtrap.io:465
# THIS YOU SET YOUR EMAIL
# I THINK YOU SHOUD USE GMAIL HERE (BUT MAKE SURE YOU DON'T HAVE
# TWO FACTOR ON THAT GMAIL)
# OR YOU CAN PUT WHATEVER MAIL DRESS HER (I'M NOT CERTAIN)
EMAIL_FROM=Your name <you@email.com>
# FOR DEV ONLY (YOU CHANGE THIS IN PRODUCTION)
NEXTAUTH_URL=http://localhost:3000
# SECRET OF YOUR CHICE
SECRET=
```

# MY NEHT AUTH ENDPOINT SETUP

```
mkdir -p pages/api/auth && touch "pages/api/auth/[...nextauth].ts"
```

eyJhbGciOiJIUzI1NiJ9.eyJSb2xlIjoiQWRtaW4iLCJJc3N1ZXIiOiJJc3N1ZXIiLCJVc2VybmFtZSI6IkphdmFJblVzZSIsImV4cCI6MTYyOTU2MTU5NiwiaWF0IjoxNjI5NTYxNTk2fQ.VD01eYRMrJ5EG3EOJ8HjO9lgqmp4U8n7ro8pGq3838s

```ts

```



